[@wixc3/engine-test-kit on Github](https://github.com/wixplosives/engine/tree/master/packages/engine-test-kit)

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@wixc3/engine-test-kit](./engine-test-kit.md) &gt; [withLocalFixture](./engine-test-kit.withlocalfixture.md)

## withLocalFixture() function

Similar to `withFeature`<!-- -->, but creates a temp directory and optionally copies a fixture to it as a "project".

<b>Signature:</b>

```typescript
export declare function withLocalFixture(
  suiteOptions: IWithLocalFixtureOptions
): {
  getLoadedFeature: (testOptions?: IWithLocalFixtureOptions) => Promise<{
    projectPath: string;
    spawn: (
      command: string,
      args?: string[],
      spawnOptions?: SpawnSyncOptions
    ) => import("child_process").SpawnSyncReturns<string | Buffer>;
    loadFeature: (options?: IFeatureExecutionOptions) => Promise<{
      page: import("playwright-core").Page;
      response: import("playwright-core").Response | null;
      getMetrics: () => Promise<
        import("@wixc3/engine-runtime-node").PerformanceMetrics
      >;
    }>;
  }>;
};
```

## Parameters

| Parameter    | Type                                                                      | Description |
| ------------ | ------------------------------------------------------------------------- | ----------- |
| suiteOptions | [IWithLocalFixtureOptions](./engine-test-kit.iwithlocalfixtureoptions.md) |             |

<b>Returns:</b>

{ getLoadedFeature: (testOptions?: [IWithLocalFixtureOptions](./engine-test-kit.iwithlocalfixtureoptions.md)<!-- -->) =&gt; Promise&lt;{ projectPath: string; spawn: (command: string, args?: string\[\], spawnOptions?: SpawnSyncOptions) =&gt; import("child_process").SpawnSyncReturns&lt;string \| Buffer&gt;; loadFeature: (options?: [IFeatureExecutionOptions](./engine-test-kit.ifeatureexecutionoptions.md)<!-- -->) =&gt; Promise&lt;{ page: import("playwright-core").Page; response: import("playwright-core").Response \| null; getMetrics: () =&gt; Promise&lt;import("@wixc3/engine-runtime-node").[PerformanceMetrics](./engine-runtime-node.performancemetrics.md)<!-- -->&gt;; }&gt;; }&gt;; }
