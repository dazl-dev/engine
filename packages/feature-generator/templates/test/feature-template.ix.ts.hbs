import { expect } from 'chai';
import { waitFor } from 'promise-assist';
import { withFeature } from '@wixc3/engine-test-kit';

describe('{{pascalCase featureName}} IX', function() {
    this.timeout(30_000);

    const { getLoadedFeature } = withFeature({
        featureName: '{{dashCase featureName}}{{#if hasFixture}}/{{dashCase fixtureName}}{{/if}}',
        {{#if hasConfig}}
        configName: '{{dashCase featureName}}/example-{{dashCase featureName}}'
        {{/if}}
    });

    it('has element', async function() {
        const { page } = await getLoadedFeature();

        await waitFor(
            async () => {
                const element = await page.waitForSelector('.some-selector');
                expect(element).to.have.lengthOf(1);
            },
            { timeout: 10_000 }
        );
    });
});
